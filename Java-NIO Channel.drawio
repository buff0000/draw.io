<mxfile host="www.draw.io" modified="2019-11-25T17:24:45.358Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.96 Safari/537.36" etag="5w9LebIwOmw9Cg0HrzMC" version="12.3.0" type="github" pages="1">
  <diagram id="UFuFSns13JqshOmb3wFV" name="Page-1">
    <mxGraphModel dx="1390" dy="701" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-38">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-41">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-40">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-39">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-37" value="Channel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry y="121" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-38" value="FileChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="160" y="7" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-39" value="SocketChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="160" y="87" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-40" value="ServerSocketChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="160" y="167" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-41" value="DatagramChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="160" y="247" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-44" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;只能通过在一个打开的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;RandomAccessFile&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;、&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileInputStream&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;或&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileOutputStream&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象上调用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;getChannel( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法来获取&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="2" width="370" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-45" value="SocketChannel.open();&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;getChannel返回关联通道&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="92" width="330" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-46" value="ServerSocketChannel.open();&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;getChannel返回关联通道&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="172" width="370" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-47" value="DatagramChannel.open();&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;getChannel返回关联通道&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="252" width="350" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-51" value="&lt;h1&gt;双向通道&lt;/h1&gt;&lt;p&gt;双向传输数据，同时实现WritableByteChannel和ReadableByteChannel，对于FileChannel来说可能写通道会有异常&lt;/p&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="367" width="520" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-52" value="&lt;h1&gt;语法糖&lt;/h1&gt;&lt;p&gt;ByteChannel&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;接口本身并不定义新的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;API&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法，它是一种用来聚集&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;它自己以一个新名称继承的多个接口的便捷接口&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="527" width="520" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-53" value="&lt;h1&gt;阻塞与非阻塞&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;只有面向&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;流的（&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;stream-oriented&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;）的通道，如&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;sockets&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;和&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;pipes&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;才能使用非阻塞模式。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="685" width="520" height="101" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-54" value="&lt;h1&gt;中断&lt;/h1&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;1、如果一个线程在一个通道上被阻塞并且同时被中断（由调&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;用该被阻塞线程的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;interrupt( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法的另一个线程中断），那么该通道将被关闭，该被阻塞线程也会&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;产生一个&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ClosedByInterruptException&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;异常。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;2、假如一个线程的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;interrupt statu&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;s&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;被设置并且该线程试图访问一个通道，那么这个通道将&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;立即被关闭，同时将抛出相同的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ClosedByInterruptException&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;异常&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="827" width="645" height="161" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-55" value="&lt;h1&gt;Scatter/Gather&lt;/h1&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;1、是由操作系统来完成的多缓存操作的&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;2、将多个Buffer按顺进行操作，每个Buffer的有效数据为position和limit之间&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;3、&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;CourierNewPSMT&quot;&gt;offset&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;和&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;CourierNewPSMT&quot;&gt;length是指Buffer数组的信息&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="38" y="1027" width="522" height="140" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
