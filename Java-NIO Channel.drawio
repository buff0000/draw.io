<mxfile host="www.draw.io" modified="2019-11-26T17:26:54.193Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.96 Safari/537.36" etag="roKblFTmBgdHCD5X5uF7" version="12.3.0" type="github" pages="1">
  <diagram id="UFuFSns13JqshOmb3wFV" name="Page-1">
    <mxGraphModel dx="959" dy="483" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-38">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-41">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-40">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=16;" edge="1" parent="1" source="sLsmFhFjp12rdpuqurdZ-37" target="sLsmFhFjp12rdpuqurdZ-39">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-37" value="Channel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry y="121" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-38" value="FileChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="160" y="7" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-39" value="SocketChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="160" y="87" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-40" value="ServerSocketChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="160" y="167" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-41" value="DatagramChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="160" y="247" width="190" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-44" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;只能通过在一个打开的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;RandomAccessFile&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;、&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileInputStream&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;或&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileOutputStream&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象上调用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;getChannel( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法来获取&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="2" width="370" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-45" value="SocketChannel.open();&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;getChannel返回关联通道&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="92" width="330" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-46" value="ServerSocketChannel.open();&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;getChannel返回关联通道&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="172" width="370" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-47" value="DatagramChannel.open();&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;getChannel返回关联通道&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];;autosize=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="360" y="252" width="350" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-51" value="&lt;h1&gt;双向通道&lt;/h1&gt;&lt;p&gt;双向传输数据，同时实现WritableByteChannel和ReadableByteChannel，对于FileChannel来说可能写通道会有异常&lt;/p&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="367" width="520" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-52" value="&lt;h1&gt;语法糖&lt;/h1&gt;&lt;p&gt;ByteChannel&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;接口本身并不定义新的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;API&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法，它是一种用来聚集&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;它自己以一个新名称继承的多个接口的便捷接口&lt;/span&gt;&lt;/p&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="527" width="520" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-53" value="&lt;h1&gt;阻塞与非阻塞&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;只有面向&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;流的（&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;stream-oriented&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;）的通道，如&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;sockets&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;和&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;pipes&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;才能使用非阻塞模式。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="685" width="520" height="101" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-54" value="&lt;h1&gt;中断&lt;/h1&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;1、如果一个线程在一个通道上被阻塞并且同时被中断（由调&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;用该被阻塞线程的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;interrupt( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法的另一个线程中断），那么该通道将被关闭，该被阻塞线程也会&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;产生一个&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ClosedByInterruptException&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;异常。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;2、假如一个线程的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;interrupt statu&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;s&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;被设置并且该线程试图访问一个通道，那么这个通道将&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;立即被关闭，同时将抛出相同的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ClosedByInterruptException&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;异常&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="40" y="827" width="645" height="161" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-55" value="&lt;h1&gt;Scatter/Gather&lt;/h1&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;1、是由操作系统来完成的多缓存操作的&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;2、将多个Buffer按顺进行操作，每个Buffer的有效数据为position和limit之间&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.5600pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;3、&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;CourierNewPSMT&quot;&gt;offset&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;和&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;couriernewpsmt&amp;#34; ; color: rgb(0 , 0 , 0) ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;CourierNewPSMT&quot;&gt;length是指Buffer数组的信息&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=16;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="38" y="1027" width="522" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-60" value="FileChannel" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="20" y="1493.5" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-61" value="总是阻塞而--原因是操作对本地磁盘的IO操作延迟很少" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="1203.5" width="620.0000000000001" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-64" value="进程、线程安全的，并发行为受操作系统或文件系统的影响" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="1403.5" width="620.0000000000001" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-65" value="&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot; style=&quot;font-size: 16px&quot;&gt;FileChannel&lt;/font&gt;&lt;font face=&quot;宋体&quot; style=&quot;font-size: 16px&quot;&gt;类保证同一个&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;timesnewromanpsmt&amp;quot;&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot; style=&quot;font-size: 16px&quot;&gt;Java&lt;/font&gt;&lt;/span&gt;&lt;font face=&quot;宋体&quot; style=&quot;font-size: 16px&quot;&gt;虚拟机上的所有实例看到的某个文件的视图均是一致的&lt;/font&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="1483.5" width="620.0000000000001" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-66" value="&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;file position，类似Buffer中的position，&lt;/font&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;位置（&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;timesnewromanpsmt&amp;quot; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;position&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;）是从底层的文件描述符获得的，该&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;timesnewromanpsmt&amp;quot; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;position&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;同时被作为通道引用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;获取来源的文件对象共享。这也就意味着一个对象对该&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;timesnewromanpsmt&amp;quot; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;position&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;的更新可以被另一个对象看到&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="1563.5" width="620.0000000000001" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-67" value="&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;file&amp;nbsp;hole：数据内容为空，但文件占据很大空间&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="1683.5" width="620.0000000000001" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-69" value="&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;文件锁：&lt;/font&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;如果一个线程在某个文件上获得了一个独占锁，然后第二个线程利用一个单独打开的通道来请&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;求该文件的独占锁，那么第二个线程的请求会被批准。但如果这两个线程运行在不同的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;Java&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;虚拟&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;机上，那么第二个线程会阻塞，因为锁最终是由操作系统或文件系统来判优的并且几乎总是在进程&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;级而非线程级上判优。锁都是与一个文件关联的，而不是与单个的文件句柄或通道关联。&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="1763.5" width="620" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-70" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileLock&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象由&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;创建并且总是关联到那个特&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;定的通道实例，lock方法可以指定position和size大小，&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;锁定区域的范围不一定要限制在文件的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;size&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;值以内，锁可以扩展从而超出文件尾。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;" vertex="1" parent="1">
          <mxGeometry x="179" y="1920" width="620" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-71" value="&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;&lt;span style=&quot;font-size: 14.08px&quot;&gt;内存映射文件（&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px ; font-weight: 400 ; white-space: nowrap&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26lt%3Bdiv%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2010.56pt%26quot%3B%26gt%3B%26lt%3Bfont%20face%3D%26quot%3BTimesNewRomanPS-ItalicMT%26quot%3B%26gt%3BFileLock%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2010.56pt%26quot%3B%26gt%3B%26lt%3Bfont%20face%3D%26quot%3B%E5%AE%8B%E4%BD%93%26quot%3B%26gt%3B%E5%AF%B9%E8%B1%A1%E7%94%B1%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2010.56pt%26quot%3B%26gt%3B%26lt%3Bfont%20face%3D%26quot%3BTimesNewRomanPS-ItalicMT%26quot%3B%26gt%3BFileChannel%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2010.56pt%26quot%3B%26gt%3B%26lt%3Bfont%20face%3D%26quot%3B%E5%AE%8B%E4%BD%93%26quot%3B%26gt%3B%E5%88%9B%E5%BB%BA%E5%B9%B6%E4%B8%94%E6%80%BB%E6%98%AF%E5%85%B3%E8%81%94%E5%88%B0%E9%82%A3%E4%B8%AA%E7%89%B9%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2010.56pt%26quot%3B%26gt%3B%E5%AE%9A%E7%9A%84%E9%80%9A%E9%81%93%E5%AE%9E%E4%BE%8B%EF%BC%8Clock%E6%96%B9%E6%B3%95%E5%8F%AF%E4%BB%A5%E6%8C%87%E5%AE%9Aposition%E5%92%8Csize%E5%A4%A7%E5%B0%8F%EF%BC%8C%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2010.56pt%26quot%3B%26gt%3B%26lt%3Bfont%20face%3D%26quot%3B%E5%AE%8B%E4%BD%93%26quot%3B%26gt%3B%E9%94%81%E5%AE%9A%E5%8C%BA%E5%9F%9F%E7%9A%84%E8%8C%83%E5%9B%B4%E4%B8%8D%E4%B8%80%E5%AE%9A%E8%A6%81%E9%99%90%E5%88%B6%E5%9C%A8%E6%96%87%E4%BB%B6%E7%9A%84%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-family%3A%20%26amp%3B%2334%3Btimesnewromanpsmt%26amp%3B%2334%3B%20%3B%20font-size%3A%2010.56pt%26quot%3B%26gt%3B%26lt%3Bfont%20face%3D%26quot%3BTimesNewRomanPSMT%26quot%3B%26gt%3Bsize%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bfont-size%3A%2010.56pt%26quot%3B%26gt%3B%26lt%3Bfont%20face%3D%26quot%3B%E5%AE%8B%E4%BD%93%26quot%3B%26gt%3B%E5%80%BC%E4%BB%A5%E5%86%85%EF%BC%8C%E9%94%81%E5%8F%AF%E4%BB%A5%E6%89%A9%E5%B1%95%E4%BB%8E%E8%80%8C%E8%B6%85%E5%87%BA%E6%96%87%E4%BB%B6%E5%B0%BE%E3%80%82%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fspan%26gt%3B%26lt%3B%2Fdiv%26gt%3B%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfontSize%3D16%3BfontStyle%3D1%3BfillColor%3D%23d5e8d4%3BstrokeColor%3D%2382b366%3Balign%3Dleft%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%22200%22%20y%3D%221920%22%20width%3D%22620%22%20height%3D%2270%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel3E&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;MappedByteBuffer）：&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;因为不需要做明确的系统调用，那会很消耗时间。更重要的是，操作系统的虚拟内存可以自动&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;缓存内存页（&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;memory page&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;）。这些页是用系统内存来缓存的，所以不会消耗&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;Java&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;虚拟机内存堆&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;（&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;memory heap&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;）。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;" vertex="1" parent="1">
          <mxGeometry x="179" y="2020" width="620" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-72" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;一个映射一旦建立之后将保持有效，直到&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;MappedByteBuffer&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象被施以垃圾收集动作为止。&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;关闭相关联的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;不会破坏映射，只有丢弃缓冲区对象本身才会破坏该映&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;射。&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;" vertex="1" parent="1">
          <mxGeometry x="179" y="2150" width="620" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-75" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;因为&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;MappedByteBuffers&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;也是&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ByteBuffers&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;，所以能够被传递&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;SocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;之类通道的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;read( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;或&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;write( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;以有效传输数据给被映射的文件或从被映射的文件读取数据。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;" vertex="1" parent="1">
          <mxGeometry x="179" y="2260" width="620" height="67" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-76" value="&lt;div&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;channel-to-channel：&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;transferTo( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;和&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;transferFrom( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法允许将一个通道交叉连接到另一个通道，而不需要通过一个&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;中间缓冲区来传递数据。只有&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;类有这两个方法，因此&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;channel-to-channel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;传输中通道之&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;一必须是&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;FileChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;" vertex="1" parent="1">
          <mxGeometry x="179" y="2370" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-79" value="&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;&lt;span style=&quot;font-size: 14.08px&quot;&gt;抽象类，尽可能使用本地IO服务，只能通过在一个打开的RandomAccessFile、FileInputStream或FileOutputStream对象上调用getChannel( )方法来获取&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="1293.5" width="620" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-80" value="内存映射文件" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="20" y="2147.5" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-81" value="Socket通道" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="20" y="2950" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-82" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;DatagramChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;和&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;SocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;实现定义读和写功能的接口而&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;不实现。&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;负责监听传入的连接和创建新的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;SocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象，它本身从不传&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;输数据。&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="2520" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-83" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;全部&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;socket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;通道类（&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;DatagramChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;、&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;SocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;和&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;）在被实例化时&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;都会创建一个对等&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;socket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象，&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对等&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;socket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;可以通过调用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;socket( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法从一个&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;通道上获取。&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="2640" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-84" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;blockingLock()：&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;只&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;有拥有此对象的锁的线程才能更改通道的阻塞模式&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="2760" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-85" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;font face=&quot;宋体&quot;&gt;：&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;用静态的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;open( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;工厂方法创建一个新的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象，将会返回同一个未绑定的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;java.net.ServerSocket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;关联的通道。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="2880" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-86" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;新创建的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;SocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;虽已打开却是未连接的，&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;通过在通道上直接调用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;connect( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;或在通道关联的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;Socket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象上调用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;connect( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;来将该&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;timesnewromanpsmt&amp;#34; ; font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPSMT&quot;&gt;socket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;通道连接&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="3120" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-87" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;上调用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;accept( )，阻塞，&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;上调用&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;accept( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;方法则会返回&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;SocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;类型的对象，返回的对象能够在非阻塞模式下运行&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="3000" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-88" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;font face=&quot;宋体&quot;&gt;：&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;用静态的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;open( )&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;工厂方法创建一个新的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;ServerSocketChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;对象，将会返回同一个未绑定的&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;java.net.ServerSocket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;关联的通道。&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="3360" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-89" value="&lt;div&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;将&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;DatagramChannel&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;&lt;font face=&quot;宋体&quot;&gt;置于已连接的状态可以使除了它所“连&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10.56pt&quot;&gt;接”到的地址之外的任何其他源地址的数据报被忽略。&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" vertex="1" parent="1">
          <mxGeometry x="180" y="3240" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-90" value="管道" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="20" y="3590" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-91" value="&lt;div&gt;&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;&lt;span style=&quot;font-size: 14.08px&quot;&gt;Pipe实现的管道不同于Linux/unix中的管道，他是进程内的（Java虚拟机内部）&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#bac8d3;strokeColor=#23445d;align=left;" vertex="1" parent="1">
          <mxGeometry x="179" y="3520" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-92" value="&lt;font face=&quot;TimesNewRomanPS-ItalicMT&quot;&gt;&lt;span style=&quot;font-size: 14.08px&quot;&gt;？？？好像记得Selector底层通信使用的是管道&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1;fillColor=#bac8d3;strokeColor=#23445d;align=left;" vertex="1" parent="1">
          <mxGeometry x="179" y="3640" width="620" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-93" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=16;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="1223.5" width="40" height="600" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-94" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=16;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="1945" width="39" height="465" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-95" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=16;align=left;" vertex="1" parent="1">
          <mxGeometry x="150" y="2560" width="20" height="840" as="geometry"/>
        </mxCell>
        <mxCell id="sLsmFhFjp12rdpuqurdZ-96" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=16;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="3560" width="38" height="120" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
